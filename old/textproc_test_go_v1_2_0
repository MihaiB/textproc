func TestLFParagraphContent(t *testing.T) {
	for s, want := range map[string]*struct {
		tokens [][]rune
		err    error
	}{
		"": {nil, io.EOF},
		"a\r\nb\n \nc\n\nd": {[][]rune{
			[]rune("a\r\nb\n \nc"),
			[]rune("d")}, io.EOF},
		"\n\nÎ´Ïƒ\n\n\n":  {[][]rune{[]rune("Î´Ïƒ")}, io.EOF},
		"Ã¸\n\nb\nc\xff": {[][]rune{[]rune("Ã¸")}, textproc.ErrInvalidUTF8},
	} {
		textprocReader := textproc.NewReader(strings.NewReader(s))
		r := textproc.LFParagraphContent(textprocReader)
		checkTokenReader(t, r, want.tokens, want.err)
	}
}

func TestSortLFParagraphsI(t *testing.T) {
	for s, want := range map[string]*struct {
		runes []rune
		err   error
	}{
		"":       {nil, io.EOF},
		"\n\n\n": {nil, io.EOF},
		"Par1":   {[]rune("Par1\n"), io.EOF},
		"Hi\nðŸ‘½\n\nalien\n\n\nspace": {
			[]rune("alien\n\nHi\nðŸ‘½\n\nspace\n"), io.EOF},
		"NEON\n\nargon\n\nradon\nxenon\n\nHg\nHe\xffa": {
			[]rune("argon\n\nNEON\n\nradon\nxenon\n"),
			textproc.ErrInvalidUTF8},
	} {
		r := textproc.SortLFParagraphsI(textproc.NewReader(
			strings.NewReader(s)))
		checkReader(t, r, want.runes, want.err)
	}
}
